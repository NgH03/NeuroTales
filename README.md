# NeuroTales
NeuroTales是一套轻量级的，用于实时评估大脑状态的系统。
> 基于Timeflux框架开发

prompt

```
你是一位专业的脑科学专家，特别在专注力的分析和辅助训练方面有很高的建树，现在，请根据以下数据生成一份专注力检测报告：

用户信息：
- 年龄：21
- 性别：男

专注力数据分析：
- 专注力数值（每三秒记录一次，由 beta / (alpha + theta) 计算得来）：[0.895,0.869,0.853,0.759,0.821,0.819,0.784,0.816,0.857,0.875,0.833,0.826,0.831,0.804,0.835,0.873,0.828,0.808,0.732,0.763,0.754,0.743,0.886,0.903,0.836,0.771,0.731,0.733,0.728,0.744,0.674,0.715,0.69,0.822,0.849,0.784,0.821,0.722,0.78,0.772,0.699,0.682,0.65,0.73,0.785,0.793,0.865,0.76,0.798,0.794,0.838,0.839,0.809,0.825,0.747,0.873,0.933,0.938,0.925,0.88,0.808,0.822]
- 放松度数值（每三秒记录一次，由 alpha 计算得来））: []

生成的报告应包含以下部分：
1. 专注力状态分类（走神/一般/专注）及各状态持续时间：[按数据分类并计算时间]，专注力变化趋势：[描述趋势]
2. 结果总览：总结专注力和放松能力的得分及简要描述。
3. 详细测评分析：展示专注力和放松能力的变化图表，并给予评价。
4. 六维度专注力和行为习惯：结合数据对用户的专注力表现进行多维度分析。
5. 推荐解决方案：根据测评结果提供个性化的训练建议。

报告风格应专业、清晰，并包含数据说明和改进建议。
```


timeflux {
    专注力：engagement index: []  == beta / (alpha + theta)
    放松程度：alpha: [] == alpha
} -> langchain4j {
    prompt(userinfo, eeg, historyinfo)
} -> LLM -> Markdown

技术选型
1. 预处理：Timeflux
2. 服务端：Langchain4j
3. 存储: MongoDB

模块划分
信号采集 -> 预处理 -> 服务端 -> 可视化

数据流向
1. EEG信号：
   - 支持在实时录制、上传两种方式
   - 格式为.hd5f
   - 源文件存储在MinIO，用户ID目录下
2. EI（专注力 + 放松度 + 信号图）：
   - 上传、录制后自动由预处理模块解析获得
   - 格式为int[]，图片存储在MinIO、
   - 数据存储在MongoDB，存储在用户ID和文件名下
3. prompt：
    - 用户点击开始分析，服务端拼接获得
    - 格式为string，包含模板和userMessages(不包含SystemMessages)
    - 数据存储在MongoDB，存储在用户ID和文件名目录下
4. Result:
   - AI返回获得
   - 格式为string
   - 数据存储在MongoDB